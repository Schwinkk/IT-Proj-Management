# Отчет по анализу работы модуля «Аттестация сотрудников»

**Продукт:** Корпоративная LMS «CorpLearn»  
**Модуль:** Прохождение итогового тестирования  
**Дата анализа:** 12.01.2026  
**Автор:** Системный аналитик

---

## 1. Описание процесса
Анализируемый бизнес-процесс описывает взаимодействие сотрудника с системой во время сдачи обязательного экзамена по информационной безопасности.

**Ключевые этапы:**
1.  Загрузка вопросов с сервера.
2.  Валидация ответов.
3.  Расчет итогового балла.
4.  Фиксация результата и (при успехе) генерация сертификата.

---

## 2. Схема последовательности операций (Sequence Diagram)

Ниже представлена диаграмма, отражающая техническую логику взаимодействия фронтенда, бэкенда и базы данных.

```mermaid
sequenceDiagram
    autonumber
    actor User as Сотрудник
    participant UI as Интерфейс (Web)
    participant API as Сервер (Backend)
    participant DB as База Данных
    participant Gen as Генератор PDF

    Note over User, UI: Начало тестирования

    User->>UI: Нажимает "Начать тест"
    UI->>API: GET /api/tests/{id}/start
    API->>DB: Запрос пула вопросов (Random)
    DB-->>API: Список вопросов (без ответов)
    API-->>UI: JSON с вопросами
    
    loop Прохождение
        User->>User: Отвечает на вопросы
    end

    User->>UI: Нажимает "Завершить"
    UI->>API: POST /api/tests/{id}/submit (Ответы)
    
    activate API
    API->>DB: Получение правильных ключей
    API->>API: Сверка ответов и расчет балла
    
    alt Успех (Балл >= 80%)
        API->>DB: Обновить статус: PASSED
        API->>Gen: Запрос на сертификат
        Gen-->>API: Ссылка на PDF
        API-->>UI: Результат: УСПЕХ + Ссылка
    else Провал (Балл < 80%)
        API->>DB: Обновить статус: FAILED
        API-->>UI: Результат: ПРОВАЛ + Кнопка "Пересдать"
    end
    deactivate API
